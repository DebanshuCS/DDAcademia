---
layout: compress
---

{% include base_path %}

<!doctype html>
<html lang="{{ site.locale | slice: 0,2 }}" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>

  <body>

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    {{ content }}

    <div class="page__footer">
      <footer>
        {% include footer/custom.html %}
        {% include footer.html %}
      </footer>
    </div>

    {% include scripts.html %}

  </body>

  <script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.44/darkreader.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

  <a class="dark-mode-button" >
    <i id="icon-dark" class="fa fa-moon"></i>
    <i id="icon-light" class="fa fa-sun" style="display: none;"></i>
    <span id="dark-text">Sunset</span>
  </a>


  document.getElementsByClassName('dark-mode-button')[0].onclick = function() {
    darkmode()
}

function darkmode() {
  let enabled = localStorage.getItem('dark-mode');
  const iconDark = document.getElementById('icon-dark');
  const iconLight = document.getElementById('icon-light');

  if (enabled === null) {
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        enable();
    }
  } else if (enabled === 'true') {
    enable();
  }

  if (localStorage.getItem('dark-mode') === 'false') {
      enable();
  } else {
      disable();
  }

  // Toggle icons
  if (localStorage.getItem('dark-mode') === 'true') {
    iconDark.style.display = 'none';
    iconLight.style.display = 'inline';
  } else {
    iconDark.style.display = 'inline';
    iconLight.style.display = 'none';
  }
}


function enable()  {
  DarkReader.setFetchMethod(window.fetch)
  DarkReader.enable();
  localStorage.setItem('dark-mode', 'true');
}

function disable() {
  DarkReader.disable();
  localStorage.setItem('dark-mode', 'false');
}

</html>
